<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ë¨¹ì§€?</title>
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=6547e8de27235a7cd34591a667e5cae5&libraries=services"></script>
    <style>
        :root { --primary: #007bff; --accent: #ffc107; --bg: #f8f9fa; --border: #dee2e6; }
        * { box-sizing: border-box; }
        html, body { height: 100%; margin: 0; padding: 0; font-family: 'Malgun Gothic', sans-serif; overflow: hidden; }
        .app-container { display: flex; flex-direction: column; height: 100vh; }
        .header { background: #fff; border-bottom: 1px solid var(--border); z-index: 10; padding: 10px; }
        .filter-group { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 8px; }
        .filter-group button { padding: 5px 12px; border: 1px solid var(--border); border-radius: 20px; background: #fff; cursor: pointer; font-size: 13px; }
        .filter-group button:hover, .filter-group button.active { background: var(--primary); color: #fff; border-color: var(--primary); }
        .search-recommend { display: flex; gap: 8px; align-items: center; }
        #search-input { flex: 1; padding: 8px 12px; border: 1px solid var(--border); border-radius: 4px; }
        .btn-pick { background: var(--accent); border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: bold; white-space: nowrap; }
        .main { flex: 1; display: flex; overflow: hidden; }
        .sidebar { width: 320px; border-right: 1px solid var(--border); overflow-y: auto; background: #fff; }
        #map { flex: 1; background: #eee; }
        .recommend-display { background: #fffbe6; padding: 8px 12px; border-bottom: 1px solid #ffe58f; font-size: 14px; }
        #recommended-link { color: var(--primary); font-weight: bold; text-decoration: none; }
        .res-item { padding: 15px; border-bottom: 1px solid #eee; cursor: pointer; transition: background 0.2s; }
        .res-item:hover { background: #f1f3f5; }
        .res-name { font-size: 16px; font-weight: bold; color: #333; margin-bottom: 4px; display: block; text-decoration: none; }
        .res-addr { font-size: 13px; color: #666; margin-bottom: 5px; }
        .res-food { display: inline-block; font-size: 11px; padding: 2px 8px; background: #e9ecef; border-radius: 10px; color: #495057; }
        @media (max-width: 768px) {
            .main { flex-direction: column-reverse; }
            .sidebar { width: 100%; height: 40%; }
            #map { height: 60%; }
        }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <div class="filter-group" id="category-btns">
            <button class="active" onclick="applyFilter('all', this)">ì „ì²´</button>
        </div>
        <div class="search-recommend">
            <input type="text" id="search-input" placeholder="ì„±ê²°ëŒ€ ì£¼ë³€ ë§›ì§‘ ê²€ìƒ‰..." onkeyup="if(event.key==='Enter') applySearch()">
            <button class="btn-pick" onclick="pickRandom()">ğŸ² ë¬´ì‘ìœ„ ì¶”ì²œ</button>
        </div>
    </div>
    <div class="recommend-display">
        ğŸ“ <strong>ì˜¤ëŠ˜ì˜ ì¶”ì²œ:</strong> <a id="recommended-link" href="#" target="_blank">ì„±ê²°ëŒ€ ì£¼ë³€ ë§›ì§‘ì„ ê³¨ë¼ë³´ì„¸ìš”</a>
    </div>
    <div class="main">
        <div class="sidebar"><div id="res-list"></div></div>
        <div id="map"></div>
    </div>
</div>

<script>
    /** ì•ˆì–‘ 8ë™(ì„±ê²°ëŒ€ ì£¼ë³€) ì •ì œëœ ë°ì´í„° **/
    const restaurants = [
        { title: "ë¶€ì‚°ê°€ì•¼ë°€ë©´ ì•ˆì–‘ë³¸ì ", addr: "ê²½ê¸°ë„ ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ36ë²ˆê¸¸ 15", food: "êµ­ìˆ˜", x: 126.932263875909, y: 37.3848854642594, url: "https://place.map.kakao.com/13092162" },
        { title: "ì§€í˜¸í•œë°©ì‚¼ê³„íƒ• ë§Œì•ˆêµ¬ì²­ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ 115", food: "ë‹­ìš”ë¦¬, ê³ ê¸°", x: 126.932522205927, y: 37.3849110208067, url: "https://place.map.kakao.com/17978026" },
        { title: "ë¯¸ì†Œí‘¸ë“œ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ 119", food: "í•œì‹ë·”í˜", x: 126.932155188339, y: 37.385330147164, url: "https://place.map.kakao.com/888574466" },
        { title: "ì¤‘ì°¬ë¯¸ì‹", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 4", food: "ì¤‘ì‹", x: 126.929747804889, y: 37.3822933729029, url: "https://place.map.kakao.com/1001883450" },
        { title: "ì™€ìš°ë¦¬ìˆœëŒ€êµ­", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 34-1", food: "ìˆœëŒ€", x: 126.930395802091, y: 37.3824244045313, url: "https://place.map.kakao.com/16462275" },
        { title: "ì—„ë§ˆëˆêµ­ìˆ˜", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 11", food: "êµ­ìˆ˜", x: 126.929052462381, y: 37.3826812991012, url: "https://place.map.kakao.com/118520162" },
        { title: "í† ë°•ì´ê°ìíƒ•", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ111ë²ˆê¸¸ 29", food: "ê°ìíƒ•, íƒ•", x: 126.931543619665, y: 37.3839742047466, url: "https://place.map.kakao.com/16273180" },
        { title: "ì°¸ë§›ë‚¨ì›ì¶”ì–´íƒ•", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ36ë²ˆê¸¸ 11", food: "ì¶”ì–´íƒ•, íƒ•", x: 126.932179039671, y: 37.3850507534564, url: "https://place.map.kakao.com/12557676" },
        { title: "ì˜¤ëŠ˜ì€ìˆ˜ì œëˆê¹ŒìŠ¤", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ111ë²ˆê¸¸ 33", food: "ëˆê¹ŒìŠ¤, ìš°ë™", x: 126.931419468162, y: 37.3839136741253, url: "https://place.map.kakao.com/1229249213" },
        { title: "ë¶€ì—‰ì´ìƒ¤ë¸Œìƒ¤ë¸ŒìŠ¤í‚¤ì•¼í‚¤", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ36ë²ˆê¸¸ 15", food: "ìƒ¤ë¸Œìƒ¤ë¸Œ", x: 126.932263875909, y: 37.3848854642594, url: "https://place.map.kakao.com/2105635163" },
        { title: "ëˆì»µì¹˜ì»µ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 47", food: "ë¶„ì‹", x: 126.929342303114, y: 37.3816061005363, url: "https://place.map.kakao.com/1864598783" },
        { title: "ì†Œë¦¼ë§ˆë¼ ì•ˆì–‘ë§Œì•ˆì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 38", food: "ì¤‘ì‹", x: 126.930151143008, y: 37.3822779339963, url: "https://place.map.kakao.com/1179574561" },
        { title: "ì†Œì„ ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ112ë²ˆê¸¸ 13", food: "ì¤‘ì‹", x: 126.933877079736, y: 37.3851813723658, url: "https://place.map.kakao.com/2065526380" },
        { title: "ì•„ë¦¬ì‚°", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ 59", food: "ì¤‘ì‹", x: 126.933853870283, y: 37.3867938308462, url: "https://place.map.kakao.com/98003334" },
        { title: "ëª½ìƒ¹", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 35", food: "ì¤‘ì‹", x: 126.933874259452, y: 37.386335581797, url: "https://place.map.kakao.com/1380419551" },
        { title: "í’ë¯¸ì–‘ê¼¬ì¹˜", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 35", food: "ì–‘ê¼¬ì¹˜", x: 126.933874259452, y: 37.386335581797, url: "https://place.map.kakao.com/2092991987" },
        { title: "ì†Œë¬¸ë‚œê¹€ë°¥ì²˜ëŸ¼", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 20", food: "ë¶„ì‹", x: 126.931872646792, y: 37.383108871331, url: "https://place.map.kakao.com/1726415782" },
        { title: "ì‹ ì „ë–¡ë³¶ì´ ì•ˆì–‘ì„±ê²°ëŒ€ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 36", food: "ë–¡ë³¶ì´", x: 126.930292097675, y: 37.3823569468604, url: "https://place.map.kakao.com/20493874" },
        { title: "ì†Œë¦¼ê¹€ë°¥ ì•ˆì–‘ë§Œì•ˆì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 38", food: "ë¶„ì‹", x: 126.930151143008, y: 37.3822779339963, url: "https://place.map.kakao.com/7207904" },
        { title: "ë‚¨ì´Œê¹€ë°¥ ë³¸ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ 110", food: "ë¶„ì‹", x: 126.933807735556, y: 37.384811012897, url: "https://place.map.kakao.com/832238107" },
        { title: "ë‚¨ì´Œê¹€ë°¥ ë³„ê´€", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ 102", food: "ë¶„ì‹", x: 126.934115411124, y: 37.3841903794355, url: "https://place.map.kakao.com/1297051684" },
        { title: "í• ë¨¸ë‹ˆê°€ë˜ë–¡ë³¶ì´ ì•ˆì–‘ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ 96", food: "ë–¡ë³¶ì´", x: 126.9343209889, y: 37.3839787532217, url: "https://place.map.kakao.com/1846388455" },
        { title: "ì¼ëŒ€ê¹€ë°¥", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ52ë²ˆê¸¸ 18", food: "ë¶„ì‹", x: 126.933622449079, y: 37.3855690302257, url: "https://place.map.kakao.com/932346628" },
        { title: "ìš°ë¦¬ë¶„ì‹", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ 112", food: "ë¶„ì‹", x: 126.933373536382, y: 37.3849789901676, url: "https://place.map.kakao.com/16946757" },
        { title: "ë§˜ìŠ¤", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 11", food: "ë¶„ì‹", x: 126.934877389049, y: 37.3844231754901, url: "https://place.map.kakao.com/1063347983" },
        { title: "í˜¸ì¹˜í‚¨ ì•ˆì–‘ì„±ê²°ëŒ€ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 28", food: "ì¹˜í‚¨", x: 126.931089001347, y: 37.3827644063939, url: "https://place.map.kakao.com/2126044626" },
        { title: "45ì •ë‹­ë„ë¦¬íƒ• ë³¸ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ111ë²ˆê¸¸ 35", food: "ë‹­ìš”ë¦¬", x: 126.931264031048, y: 37.3838623156351, url: "https://place.map.kakao.com/1521907226" },
        { title: "ì²­êµ­ë‹­", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 14", food: "ë‹­ìš”ë¦¬", x: 126.929123499945, y: 37.3830250822937, url: "https://place.map.kakao.com/224678890" },
        { title: "ë°˜ì£¼", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ111ë²ˆê¸¸ 37", food: "ìˆ ì§‘", x: 126.931151294564, y: 37.3837906186715, url: "https://place.map.kakao.com/616190514" },
        { title: "ì‘ì€ìš¸íƒ€ë¦¬", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ36ë²ˆê¸¸ 11", food: "í˜¸í”„, ìš”ë¦¬ì£¼ì ", x: 126.932179039671, y: 37.3850507534564, url: "https://place.map.kakao.com/24612700" },
        { title: "ë³„ë°¤ì§€ê¸°", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 11", food: "ìˆ ì§‘", x: 126.929052462381, y: 37.3826812991012, url: "https://place.map.kakao.com/15498052" },
        { title: "ì„¸ë¸ë§ˆì¼ ë¹„ì–´ì•¤êµ¿ì¦ˆ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 11", food: "ìˆ ì§‘", x: 126.934877389049, y: 37.3844231754901, url: "https://place.map.kakao.com/1392808843" },
        { title: "ë°”ì§€", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ 96", food: "ì¹µí…Œì¼ë°”", x: 126.9343209889, y: 37.3839787532217, url: "https://place.map.kakao.com/556107500" },
        { title: "ì´ëª¨ë„¤", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 21", food: "í˜¸í”„, ìš”ë¦¬ì£¼ì ", x: 126.93458324149, y: 37.3853352094007, url: "https://place.map.kakao.com/1383867494" },
        { title: "ë…¼ì‚°í›ˆë ¨ì†Œí¬ì°¨", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ52ë²ˆê¸¸ 14", food: "ì‹¤ë‚´í¬ì¥ë§ˆì°¨, í˜¸í”„", x: 126.933505809097, y: 37.3856925851157, url: "https://place.map.kakao.com/18251761" },
        { title: "ë™ë§‰ê³¨", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ112ë²ˆê¸¸ 13", food: "í˜¸í”„, ìš”ë¦¬ì£¼ì ", x: 126.933877079736, y: 37.3851813723658, url: "https://place.map.kakao.com/18824487" },
        { title: "ë¹„ì–´ìºë¹ˆ ëª…í•™ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ52ë²ˆê¸¸ 19", food: "í˜¸í”„, ìš”ë¦¬ì£¼ì ", x: 126.934059264774, y: 37.3855110684841, url: "https://place.map.kakao.com/16169962" },
        { title: "ëª…í•™ë§¥ì£¼ì»¤í”¼", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ112ë²ˆê¸¸ 13", food: "í˜¸í”„, ìš”ë¦¬ì£¼ì ", x: 126.933877079736, y: 37.3851813723658, url: "https://place.map.kakao.com/202656010" },
        { title: "ë§¥ì£¼í†¡", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 19", food: "ìˆ ì§‘, í˜¸í”„", x: 126.934642908972, y: 37.3851507127771, url: "https://place.map.kakao.com/979421874" },
        { title: "ë°¤ì´ìˆ ì´", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 11", food: "í˜¸í”„, ìš”ë¦¬ì£¼ì ", x: 126.934877389049, y: 37.3844231754901, url: "https://place.map.kakao.com/1516437783" },
        { title: "7MILE", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 11", food: "í˜¸í”„, ìš”ë¦¬ì£¼ì ", x: 126.934877389049, y: 37.3844231754901, url: "https://place.map.kakao.com/175222422" },
        { title: "ë³µë¼ì§€ìˆ¯ë¶ˆê°ˆë¹„", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 12", food: "ê°ˆë¹„, ìœ¡ë¥˜", x: 126.929347655111, y: 37.3827614867437, url: "https://place.map.kakao.com/1633437082" },
        { title: "ê³ ê¸°ë§ˆì„", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ111ë²ˆê¸¸ 10", food: "ìœ¡ë¥˜, ê³ ê¸°", x: 126.932379841442, y: 37.3847593873264, url: "https://place.map.kakao.com/9683431" },
        { title: "ê°ˆë¹— ì•ˆì–‘ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ18ë²ˆê¸¸ 31", food: "ìœ¡ë¥˜, ê³ ê¸°", x: 126.931201820704, y: 37.3834852010292, url: "https://place.map.kakao.com/281588556" },
        { title: "ì—°ì‹ ë‚´ ìƒì œìœ¡ë³¶ìŒì „ë¬¸ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 6-1", food: "ìœ¡ë¥˜, ê³ ê¸°", x: 126.929587763284, y: 37.3824616790948, url: "https://place.map.kakao.com/1372621907" },
        { title: "ë² ìŠ¤íŠ¸ìƒê°ˆë¹„ì°œ ì°œë‹­", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 12-1", food: "ê°ˆë¹„, ìœ¡ë¥˜", x: 126.929272940761, y: 37.3828452373025, url: "https://place.map.kakao.com/384164778" },
        { title: "ë”ë‘íˆ¼ì‚¼ê²¹ì‹ë‹¹", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 6-1", food: "ì‚¼ê²¹ì‚´, ìœ¡ë¥˜", x: 126.929587763284, y: 37.3824616790948, url: "http://place.map.kakao.com/1175395613" },
        { title: "ë§ˆêµ¬ì•„ ë§Œì•ˆêµ¬ì²­ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ 35", food: "ìœ¡ë¥˜, ê³ ê¸°", x: 126.931582288348, y: 37.3857814100562, url: "https://place.map.kakao.com/733705500" },
        { title: "ë¶ˆê½ƒ ì•ˆì–‘ë³¸ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ52ë²ˆê¸¸ 15", food: "ìœ¡ë¥˜, ê³ ê¸°", x: 126.933795288338, y: 37.3857400512593, url: "https://place.map.kakao.com/60886083" },
        { title: "í‘¸ì§í•œë§ˆì„", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ111ë²ˆê¸¸ 25", food: "ì°Œê°œ, ì „ê³¨", x: 126.93172600054, y: 37.3840734227839, url: "https://place.map.kakao.com/18521540" },
        { title: "ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤ ì•ˆì–‘ë§Œì•ˆêµ¬ì²­ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ 119", food: "ì•„ì´ìŠ¤í¬ë¦¼", x: 126.932155188339, y: 37.385330147164, url: "https://place.map.kakao.com/1157830979" },
        { title: "ë§˜ìŠ¤í„°ì¹˜ ì„±ê²°ëŒ€ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 38", food: "íŒ¨ìŠ¤íŠ¸í‘¸ë“œ", x: 126.930151143008, y: 37.3822779339963, url: "https://place.map.kakao.com/24768588" },
        { title: "ë–¡ê¶", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 22", food: "ë–¡, í•œê³¼", x: 126.931519503345, y: 37.3830528038902, url: "https://place.map.kakao.com/16918055" },
        { title: "ì¥í„°ë³´ìŒˆ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ18ë²ˆê¸¸ 25", food: "ì¡±ë°œ, ë³´ìŒˆ", x: 126.931006837114, y: 37.3837103433724, url: "https://place.map.kakao.com/169986040" },
        { title: "ë§µë‹¹ ì•ˆì–‘ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ëƒ‰ì²œë¡œ 2", food: "ê°ˆë¹„, ìœ¡ë¥˜", x: 126.929919541365, y: 37.3821758911713, url: "https://place.map.kakao.com/926912566" },
        { title: "ë¶€ì‚°íšŒì§‘", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ111ë²ˆê¸¸ 21", food: "íšŒ, ìƒì„ ", x: 126.931893907867, y: 37.3841956984097, url: "https://place.map.kakao.com/19305451" },
        { title: "ë˜ì™€ìœ ëª…íƒœê°„ì¥ì¡°ë¦¼ ì•ˆì–‘ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë¡œ111ë²ˆê¸¸ 33", food: "í•´ë¬¼, ìƒì„ ", x: 126.931419468162, y: 37.3839136741253, url: "https://place.map.kakao.com/2061821812" },
        { title: "ìœ¡ê¼¬", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë§Œì•ˆë¡œ 11", food: "ìˆ ì§‘, ê³ ê¸°", x: 126.931419468162, y: 37.3839136741253, url: "https://place.map.kakao.com/1509168042" },
        { title: "ë©”ê°€MGCì»¤í”¼ ì•ˆì–‘ì„±ê²°ëŒ€ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 34", food: "ì¹´í˜", x: 126.930431, y: 37.382421, url: "https://place.map.kakao.com/1393693253" },
        { title: "ì»´í¬ì¦ˆì»¤í”¼ ì•ˆì–‘ì„±ê²°ëŒ€ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 28", food: "ì¹´í˜", x: 126.931089, y: 37.382764, url: "https://place.map.kakao.com/1381368940" },
        { title: "ì—ì´ë°”ìš°íŠ¸ì»¤í”¼ ì„±ê²°ëŒ€ì ", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 38", food: "ì¹´í˜", x: 126.930151, y: 37.382278, url: "https://place.map.kakao.com/1330962388" },
        { title: "ì¹´í˜ ì¸", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 43", food: "ì¹´í˜", x: 126.929550, y: 37.381850, url: "https://place.map.kakao.com/27230491" },
        { title: "í•˜ì´í¬ì»¤ìŠ¤", addr: "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„±ê²°ëŒ€í•™ë¡œ 31", food: "ì¹´í˜", x: 126.930720, y: 37.382410, url: "https://place.map.kakao.com/1752402241" }
     ];

    const boundaryCoords = [
        [126.936009490373863, 37.383260523291781], [126.936242783045628, 37.382663215953322],
        [126.936444551757162, 37.382211237678995], [126.936508446471819, 37.382068449165871],
        [126.93664668960335, 37.381803202718736], [126.936743307447699, 37.381642199959607],
        [126.936765359988158, 37.381605465868468], [126.936910455721872, 37.381366166204081],
        [126.937138782862334, 37.381042758772992], [126.937483681250583, 37.380612867326988],
        [126.937944693353018, 37.380137331346972], [126.938376924786056, 37.379733766721337],
        [126.938679524449057, 37.379465548454483], [126.9388637232816, 37.379302291471973],
        [126.939684626074595, 37.378558043490884], [126.940026624077547, 37.378230661895266],
        [126.940195243287647, 37.378053438842855], [126.940214984088271, 37.378032548300972],
        [126.940296998244094, 37.377945755592492], [126.940511983040679, 37.377704528605655],
        [126.940739262407078, 37.377422797524005], [126.940785300598407, 37.377360405786803],
        [126.940877605116356, 37.377235289826068], [126.940956049137355, 37.377128622494126],
        [126.941185375113065, 37.376762397268422], [126.940555317415615, 37.376242254182237],
        [126.940511108141607, 37.376205990078446], [126.940318167427407, 37.376048476914761],
        [126.940076115393083, 37.375851238119886], [126.939165660792526, 37.376011455542816],
        [126.937373770821438, 37.376555540909777], [126.934893825929208, 37.376996152574037],
        [126.932765424432162, 37.377470334412997], [126.930979992717909, 37.377528666348361],
        [126.926947256171701, 37.377638452139792], [126.924137308879381, 37.377312702496397],
        [126.923923136376601, 37.377256450315649], [126.921417807264717, 37.376518614550989],
        [126.919899024074681, 37.376564130194993], [126.919178246143204, 37.376933536574491],
        [126.919210244062171, 37.377178190289143], [126.919285070042349, 37.37754474146579],
        [126.919353657435778, 37.377714085687231], [126.919431208463052, 37.377818124322502],
        [126.920582212572427, 37.379335822336692], [126.921934103206212, 37.380899559682781],
        [126.924169152605515, 37.383026435953866], [126.925436486565545, 37.384031995984927],
        [126.925688662575183, 37.384199974832498], [126.925741270270706, 37.384224811635477],
        [126.925789961193942, 37.384247789695706], [126.932236649328289, 37.385795457087283],
        [126.93376981552683, 37.383967405361844], [126.933824711538733, 37.383895558380132],
        [126.936009490373863, 37.383260523291781]
    ];

  /** ì§€ë„ ë° í•„í„° ë¡œì§ **/
    let map, currentMarker = null, currentOverlay = null, filteredRestaurants = [...restaurants];
    const mapContainer = document.getElementById('map');
    const mapOption = { center: new kakao.maps.LatLng(37.383, 126.932), level: 3 };
    map = new kakao.maps.Map(mapContainer, mapOption);

    // êµ¬ì—­ í‘œì‹œ
    const polygonPath = boundaryCoords.map(c => new kakao.maps.LatLng(c[1], c[0]));
    new kakao.maps.Polygon({
        path: polygonPath, strokeWeight: 3, strokeColor: '#FF0000', strokeOpacity: 0.8,
        fillColor: '#FF0000', fillOpacity: 0.05
    }).setMap(map);

    const categories = ['êµ­ìˆ˜', 'ì¤‘ì‹', 'ë¶„ì‹', 'ë‹­ìš”ë¦¬', 'ê³ ê¸°', 'ìˆ ì§‘', 'ì¹´í˜'];
    const btnContainer = document.getElementById('category-btns');
    categories.forEach(cat => {
        const btn = document.createElement('button');
        btn.textContent = cat;
        btn.onclick = (e) => applyFilter(cat, e.target);
        btnContainer.appendChild(btn);
    });

    /** ë‹¨ì¼ ë§ˆì»¤ ì‹œìŠ¤í…œ í•µì‹¬ ë¡œì§ **/
    function focusOn(item) {
        // 1. ê¸°ì¡´ ë§ˆì»¤ì™€ ì˜¤ë²„ë ˆì´ ì œê±°
        if (currentMarker) currentMarker.setMap(null);
        if (currentOverlay) currentOverlay.setMap(null);

        const pos = new kakao.maps.LatLng(item.y, item.x);

        // 2. ìƒˆë¡œìš´ ë§ˆì»¤ ìƒì„± ë° ì§€ë„ì— í‘œì‹œ
        currentMarker = new kakao.maps.Marker({ position: pos, map: map });

        // 3. ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´(ì´ë¦„í‘œ) ìƒì„±
        currentOverlay = new kakao.maps.CustomOverlay({
            position: pos,
            content: `<div style="padding:5px 10px; background:white; border:1px solid #888; border-radius:5px; font-size:12px; bottom:40px; position:relative; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); font-weight:bold;">${item.title}</div>`,
            yAnchor: 1
        });
        currentOverlay.setMap(map);

        // 4. ì§€ë„ë¥¼ í•´ë‹¹ ìœ„ì¹˜ë¡œ ë¶€ë“œëŸ½ê²Œ ì´ë™
        map.panTo(pos);
    }

    function render(data) {
        const listContainer = document.getElementById('res-list');
        listContainer.innerHTML = '';
        filteredRestaurants = data;
        
        // ë§ˆì»¤ëŠ” ë¯¸ë¦¬ ê·¸ë¦¬ì§€ ì•Šê³  ë¦¬ìŠ¤íŠ¸ë§Œ ìƒì„±
        data.forEach(item => {
            const div = document.createElement('div');
            div.className = 'res-item';
            div.innerHTML = `<a class="res-name" href="${item.url}" target="_blank">${item.title}</a><div class="res-addr">${item.addr}</div><div class="res-food">${item.food}</div>`;
            div.onclick = () => focusOn(item);
            listContainer.appendChild(div);
        });
    }

    function applyFilter(category, btn) {
        document.querySelectorAll('.filter-group button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const filtered = category === 'all' ? restaurants : restaurants.filter(r => r.food.includes(category));
        render(filtered);
    }

    function applySearch() {
        const keyword = document.getElementById('search-input').value.toLowerCase();
        const filtered = restaurants.filter(r => r.title.toLowerCase().includes(keyword) || r.addr.toLowerCase().includes(keyword));
        render(filtered);
    }

    function pickRandom() {
        if (filteredRestaurants.length === 0) return;
        const pick = filteredRestaurants[Math.floor(Math.random() * filteredRestaurants.length)];
        const link = document.getElementById('recommended-link');
        link.textContent = `${pick.title} (${pick.food})`;
        link.href = pick.url;
        focusOn(pick); // ë¬´ì‘ìœ„ ì¶”ì²œ ì‹œì—ë„ ë§ˆì»¤ í‘œì‹œ ë° ì´ë™
    }

    // ì´ˆê¸° ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
    render(restaurants);
</script>
</body>
</html>